{"ast":null,"code":"import * as THREE from 'three';\nimport islandModelSrc from './models/island.glb';\nimport cyclistModelSrc from './models/cyclist.glb';\n\n// 附加組件 控制器與載入器\nimport { OrbitControls } from 'three/addons/controls/OrbitControls.js';\nimport { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';\nimport { DRACOLoader } from 'three/addons/loaders/DRACOLoader.js';\n\n// 場景 相機 渲染器\nconst scene = new THREE.Scene();\nconst camera = new THREE.PerspectiveCamera(\n//視野角度 寬高比 聚焦的近截面 聚焦的遠截面 \n75, window.innerWidth / window.innerHeight, 0.1, 1000);\nconst renderer = new THREE.WebGLRenderer();\nrenderer.setSize(window.innerWidth, window.innerHeight);\ndocument.body.appendChild(renderer.domElement);\n\n// 設置環境光 AmbientLight\nlet ambientLight = new THREE.AmbientLight(0xffffff);\nscene.add(ambientLight);\n\n// 創建一個立方體物件在場景中 幾何物件 材質 網格\n// const geometry = new THREE.BoxGeometry( 1, 1, 1 );\n// const material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );\n// const cube = new THREE.Mesh( geometry, material );\n// scene.add( cube );\n\n// camera.position.z = 5;\n\n// 控制器與載入器\nconst controls = new OrbitControls(camera, renderer.domElement);\nconst loader = new GLTFLoader();\nconst dracoLoader = new DRACOLoader();\ndracoLoader.setDecoderPath('https://www.gstatic.com/draco/versioned/decoders/1.5.6/');\nloader.setDRACOLoader(dracoLoader);\nasync function myModel() {\n  const island = loader.loadAsync(islandModelSrc, undefined);\n  const cyclist = loader.loadAsync(cyclistModelSrc, undefined);\n}\nmyModel();\nloader.load(island, function (gltf) {\n  gltf.scene.traverse(function (child) {\n    if (child.isMesh) {\n      child.frustumCulled = false;\n      child.castShadow = true;\n      child.material.emissive = child.material.color;\n      child.material.emissiveMap = child.material.map;\n    }\n  });\n  gltf.scene.castShadow = true;\n  gltf.scene.receiveShadow = true;\n  gltf.scene.scale.set(.5, .5, .5);\n  // gltf.animations; // Array<THREE.AnimationClip>\n  // gltf.scene; // THREE.Group\n  // gltf.scenes; // Array<THREE.Group>\n  // gltf.cameras; // Array<THREE.Camera>\n  // gltf.asset; // Object\n\n  scene.add(gltf.scene);\n  console.log(gltf);\n}, undefined,\n// called while loading is progressing\n// function ( xhr ) {\n//   console.log( ( xhr.loaded / xhr.total * 100 ) + '% loaded' );\n// },\n// called when loading has errors\nfunction (error) {\n  console.log('An error happened');\n});\n\n// loader.load(island, (gltf) => {\n//   scene.add(gltf.scene);\n// }, undefined, (error) => {\n//   console.error(error);\n// });\n\nfunction animate() {\n  requestAnimationFrame(animate);\n  // cube.rotation.x += 0.01;\n  // cube.rotation.y += 0.01;\n  renderer.render(scene, camera);\n}\n;\nanimate();","map":{"version":3,"names":["THREE","islandModelSrc","cyclistModelSrc","OrbitControls","GLTFLoader","DRACOLoader","scene","Scene","camera","PerspectiveCamera","window","innerWidth","innerHeight","renderer","WebGLRenderer","setSize","document","body","appendChild","domElement","ambientLight","AmbientLight","add","controls","loader","dracoLoader","setDecoderPath","setDRACOLoader","myModel","island","loadAsync","undefined","cyclist","load","gltf","traverse","child","isMesh","frustumCulled","castShadow","material","emissive","color","emissiveMap","map","receiveShadow","scale","set","console","log","error","animate","requestAnimationFrame","render"],"sources":["/Users/minnalee/react-3d-model/src/main.js"],"sourcesContent":["import * as THREE from 'three';\nimport islandModelSrc from './models/island.glb';\nimport cyclistModelSrc from './models/cyclist.glb';\n\n// 附加組件 控制器與載入器\nimport { OrbitControls } from 'three/addons/controls/OrbitControls.js';\nimport { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';\nimport { DRACOLoader } from 'three/addons/loaders/DRACOLoader.js';\n\n// 場景 相機 渲染器\nconst scene = new THREE.Scene();\nconst camera = new THREE.PerspectiveCamera( \n    //視野角度 寬高比 聚焦的近截面 聚焦的遠截面 \n    75, window.innerWidth / window.innerHeight, 0.1, 1000 \n);\nconst renderer = new THREE.WebGLRenderer();\nrenderer.setSize( window.innerWidth, window.innerHeight );\ndocument.body.appendChild( renderer.domElement );\n\n// 設置環境光 AmbientLight\nlet ambientLight = new THREE.AmbientLight(0xffffff)\nscene.add(ambientLight);\n\n\n// 創建一個立方體物件在場景中 幾何物件 材質 網格\n// const geometry = new THREE.BoxGeometry( 1, 1, 1 );\n// const material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );\n// const cube = new THREE.Mesh( geometry, material );\n// scene.add( cube );\n\n// camera.position.z = 5;\n\n// 控制器與載入器\nconst controls = new OrbitControls( camera, renderer.domElement );\nconst loader = new GLTFLoader();\n\nconst dracoLoader = new DRACOLoader();\ndracoLoader.setDecoderPath('https://www.gstatic.com/draco/versioned/decoders/1.5.6/');\nloader.setDRACOLoader( dracoLoader );\n\nasync function myModel() {\n    const island = loader.loadAsync(islandModelSrc,undefined);\n    const cyclist = loader.loadAsync(cyclistModelSrc,undefined)\n}\nmyModel()\n\n\nloader.load(\n    island,\n    function ( gltf ) {\n\n    gltf.scene.traverse(function(child){\n        if(child.isMesh){\n        child.frustumCulled = false;\n        child.castShadow = true;\n        child.material.emissive = child.material.color;\n        child.material.emissiveMap = child.material.map;\n        }\n    })\n\n    gltf.scene.castShadow = true;\n    gltf.scene.receiveShadow = true;\n    gltf.scene.scale.set(.5,.5,.5);\n    // gltf.animations; // Array<THREE.AnimationClip>\n    // gltf.scene; // THREE.Group\n    // gltf.scenes; // Array<THREE.Group>\n    // gltf.cameras; // Array<THREE.Camera>\n    // gltf.asset; // Object\n\n    scene.add( gltf.scene );\n    console.log(gltf)\n    },undefined,\n    // called while loading is progressing\n    // function ( xhr ) {\n    //   console.log( ( xhr.loaded / xhr.total * 100 ) + '% loaded' );\n    // },\n    // called when loading has errors\n    function ( error ) {\n    console.log( 'An error happened' );\n    }\n);\n\n\n\n\n\n// loader.load(island, (gltf) => {\n//   scene.add(gltf.scene);\n// }, undefined, (error) => {\n//   console.error(error);\n// });\n\n\n\nfunction animate() {\nrequestAnimationFrame( animate );\n// cube.rotation.x += 0.01;\n// cube.rotation.y += 0.01;\nrenderer.render( scene, camera );\n};\n\nanimate();\n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}